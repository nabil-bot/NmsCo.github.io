<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouTube Playlist Video URLs</title>
</head>
<body>
  <h1>Get YouTube Playlist Video URLs</h1>
  <label for="playlistUrl">Enter Playlist URL:</label>
  <input type="text" id="playlistUrl" placeholder="https://www.youtube.com/playlist?list=..." required>
  <br>
  <button onclick="getPlaylistVideos()">Get Video URLs</button>
  <br>
  <textarea id="videoUrls" rows="10" readonly></textarea>

  <script>
    async function getPlaylistVideos() {
      const playlistUrl = document.getElementById('playlistUrl').value;
      const playlistId = new URL(playlistUrl).searchParams.get('list');

      if (!playlistId) {
        alert('Invalid playlist URL. Please enter a valid URL with the "list" parameter.');
        return;
      }

      try {
        const videoUrls = await fetchVideosFromPlaylist(playlistId);
        document.getElementById('videoUrls').value = videoUrls.join('\n');
      } catch (error) {
        console.error('Error:', error);
        alert('An error occurred while retrieving video URLs. Please check your playlist URL or network connection.');
      }
    }

    async function fetchVideosFromPlaylist(playlistId) {
      const apiKey = 'AIzaSyDQkRgxuQ7i5-1UuYtuve8eZgAb1-XGe30';
      const response = await fetch(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${playlistId}&maxResults=50&key=${apiKey}`);
      const data = await response.json();

      const videoUrls = [];
      for (const item of data.items) {
        if (item.kind === 'youtube#playlistItem') {
          const videoId = item.snippet.resourceId.videoId;
          const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;
          videoUrls.push(videoUrl);
        }
      }

      return videoUrls;
    }
  </script>
</body>
</html>
